<!--
  Vista del formulario de soporte.
  Se muestra un mat-card con los campos de asunto y mensaje, y un botón para enviar.
  Si está en estado de carga, se muestra un spinner con mensaje de espera.
-->
<div class="ticket-wrapper" *ngIf="!cargando; else loading">
  <mat-card>
    <h2>Enviar Ticket de Soporte</h2>
    <p>¿Tienes dudas o algo no funciona? Cuéntanoslo abajo.</p>

    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Asunto del Ticket</mat-label>
      <input matInput [(ngModel)]="asunto" placeholder="Ej: No se carga el iframe...">
    </mat-form-field>

    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Mensaje</mat-label>
      <textarea matInput rows="6" [(ngModel)]="mensaje" placeholder="Explica con detalle tu problema o duda."></textarea>
    </mat-form-field>

    <button mat-raised-button color="primary" (click)="enviarTicket()">Enviar Ticket</button>
  </mat-card>
</div>

<ng-template #loading>
  <div class="loading-spinner">
    <mat-progress-spinner mode="indeterminate" color="primary"></mat-progress-spinner>
    <p>Enviando ticket, espera un momento...</p>
  </div>
</ng-template>
